if _G.ScriptRunning then
    _G.ScriptRunning = false
    task.wait(0.2)
end

if type(_G.LuvHubConnections) == "table" then
    for _, conn in pairs(_G.LuvHubConnections) do
        pcall(function() conn:Disconnect() end)
    end
end
_G.LuvHubConnections = {}

local ScriptName = "LuvHubXOpenSource"
local OldGui = game:GetService("CoreGui"):FindFirstChild(ScriptName)
if OldGui then OldGui:Destroy() end

local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = ScriptName
ScreenGui.Parent = game.CoreGui
ScreenGui.ResetOnSpawn = false

local ScreenSaver = Instance.new("Frame", ScreenGui)
ScreenSaver.Size = UDim2.new(10, 0, 10, 0)
ScreenSaver.Position = UDim2.new(-5, 0, -5, 0)
ScreenSaver.ZIndex = 9999
ScreenSaver.Visible = false

local Colors = {
    Sidebar = Color3.fromRGB(12, 12, 18),
    Accent = Color3.fromRGB(0, 200, 255),
    Text = Color3.fromRGB(240, 240, 240),
    SubText = Color3.fromRGB(130, 130, 150),
    ItemBg = Color3.fromRGB(20, 20, 25)
}

local NotifContainer = Instance.new("Frame", ScreenGui)
NotifContainer.Name = "NotifContainer"
NotifContainer.Size = UDim2.new(0, 300, 1, -20)
NotifContainer.Position = UDim2.new(1, -10, 0, 0)
NotifContainer.AnchorPoint = Vector2.new(1, 0)
NotifContainer.BackgroundTransparency = 1

local NotifLayout = Instance.new("UIListLayout", NotifContainer)
NotifLayout.SortOrder = Enum.SortOrder.LayoutOrder
NotifLayout.VerticalAlignment = Enum.VerticalAlignment.Bottom
NotifLayout.HorizontalAlignment = Enum.HorizontalAlignment.Right
NotifLayout.Padding = UDim.new(0, 8)

local function LuvHubNotify(Config)
    local Title = Config.Title or "LuvHub X"
    local Text = Config.Text or ""
    local Duration = Config.Duration or 3
    local IconUrl = Config.Icon or "rbxassetid://81111630423385"

    local NFrame = Instance.new("Frame", NotifContainer)
    NFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 20)
    NFrame.BackgroundTransparency = 0.1
    NFrame.AutomaticSize = Enum.AutomaticSize.XY
    NFrame.ClipsDescendants = true
    Instance.new("UICorner", NFrame).CornerRadius = UDim.new(0, 6)
    
    local NStroke = Instance.new("UIStroke", NFrame)
    NStroke.Color = Colors.Accent
    NStroke.Transparency = 0

    local NPadding = Instance.new("UIPadding", NFrame)
    NPadding.PaddingTop = UDim.new(0, 8)
    NPadding.PaddingBottom = UDim.new(0, 0)
    NPadding.PaddingLeft = UDim.new(0, 10)
    NPadding.PaddingRight = UDim.new(0, 10)

    local MainLayout = Instance.new("UIListLayout", NFrame)
    MainLayout.SortOrder = Enum.SortOrder.LayoutOrder
    MainLayout.Padding = UDim.new(0, 8)

    local TopContent = Instance.new("Frame", NFrame)
    TopContent.BackgroundTransparency = 1
    TopContent.AutomaticSize = Enum.AutomaticSize.XY
    TopContent.LayoutOrder = 1

    local TopLayout = Instance.new("UIListLayout", TopContent)
    TopLayout.SortOrder = Enum.SortOrder.LayoutOrder
    TopLayout.FillDirection = Enum.FillDirection.Horizontal
    TopLayout.VerticalAlignment = Enum.VerticalAlignment.Center
    TopLayout.Padding = UDim.new(0, 10)

    local Logo = Instance.new("ImageLabel", TopContent)
    Logo.Size = UDim2.new(0, 28, 0, 28)
    Logo.BackgroundTransparency = 1
    Logo.Image = IconUrl
    Logo.LayoutOrder = 1
    Instance.new("UICorner", Logo).CornerRadius = UDim.new(1, 0)

    local TextContainer = Instance.new("Frame", TopContent)
    TextContainer.BackgroundTransparency = 1
    TextContainer.AutomaticSize = Enum.AutomaticSize.XY
    TextContainer.LayoutOrder = 2

    local TextLayout = Instance.new("UIListLayout", TextContainer)
    TextLayout.SortOrder = Enum.SortOrder.LayoutOrder
    TextLayout.Padding = UDim.new(0, 2)

    local NTitle = Instance.new("TextLabel", TextContainer)
    NTitle.BackgroundTransparency = 1
    NTitle.Text = Title
    NTitle.TextColor3 = Colors.Accent
    NTitle.Font = Enum.Font.GothamBold
    NTitle.TextSize = 10
    NTitle.TextXAlignment = Enum.TextXAlignment.Left
    NTitle.AutomaticSize = Enum.AutomaticSize.XY
    NTitle.LayoutOrder = 1

    local NText = Instance.new("TextLabel", TextContainer)
    NText.BackgroundTransparency = 1
    NText.Text = Text
    NText.TextColor3 = Colors.Text
    NText.Font = Enum.Font.Gotham
    NText.TextSize = 9
    NText.TextXAlignment = Enum.TextXAlignment.Left
    NText.AutomaticSize = Enum.AutomaticSize.XY
    NText.LayoutOrder = 2
    NText.TextWrapped = true
    
    local MaxWidthConstraint = Instance.new("UISizeConstraint", TextContainer)
    MaxWidthConstraint.MaxSize = Vector2.new(220, 9999)
    
    local ProgressBg = Instance.new("Frame", NFrame)
    ProgressBg.Size = UDim2.new(1, 20, 0, 3) 
    ProgressBg.Position = UDim2.new(0, -10, 0, 0)
    ProgressBg.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
    ProgressBg.BorderSizePixel = 0
    ProgressBg.LayoutOrder = 2

    local ProgressFill = Instance.new("Frame", ProgressBg)
    ProgressFill.Size = UDim2.new(1, 0, 1, 0)
    ProgressFill.BackgroundColor3 = Colors.Accent
    ProgressFill.BorderSizePixel = 0
    Instance.new("UICorner", ProgressFill).CornerRadius = UDim.new(1, 0)

    local TS = game:GetService("TweenService")
    NFrame.Position = UDim2.new(1, 50, 0, 0)
    NFrame.BackgroundTransparency = 1
    NStroke.Transparency = 1
    NTitle.TextTransparency = 1
    NText.TextTransparency = 1
    Logo.ImageTransparency = 1
    ProgressBg.BackgroundTransparency = 1
    ProgressFill.BackgroundTransparency = 1

    TS:Create(NFrame, TweenInfo.new(0.5, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {Position = UDim2.new(0, 0, 0, 0)}):Play()
    TS:Create(NFrame, TweenInfo.new(0.3), {BackgroundTransparency = 0.1}):Play()
    TS:Create(NStroke, TweenInfo.new(0.3), {Transparency = 0}):Play()
    TS:Create(NTitle, TweenInfo.new(0.3), {TextTransparency = 0}):Play()
    TS:Create(NText, TweenInfo.new(0.3), {TextTransparency = 0}):Play()
    TS:Create(Logo, TweenInfo.new(0.3), {ImageTransparency = 0}):Play()
    TS:Create(ProgressBg, TweenInfo.new(0.3), {BackgroundTransparency = 0}):Play()
    TS:Create(ProgressFill, TweenInfo.new(0.3), {BackgroundTransparency = 0}):Play()

    task.spawn(function()
        TS:Create(ProgressFill, TweenInfo.new(Duration, Enum.EasingStyle.Linear), {Size = UDim2.new(0, 0, 1, 0)}):Play()
        task.wait(Duration)
        TS:Create(NFrame, TweenInfo.new(0.4, Enum.EasingStyle.Quad, Enum.EasingDirection.In), {Position = UDim2.new(1, 50, 0, 0)}):Play()
        local fade = TS:Create(NFrame, TweenInfo.new(0.4), {BackgroundTransparency = 1})
        TS:Create(NStroke, TweenInfo.new(0.4), {Transparency = 1}):Play()
        TS:Create(NTitle, TweenInfo.new(0.4), {TextTransparency = 1}):Play()
        TS:Create(NText, TweenInfo.new(0.4), {TextTransparency = 1}):Play()
        TS:Create(Logo, TweenInfo.new(0.4), {ImageTransparency = 1}):Play()
        TS:Create(ProgressBg, TweenInfo.new(0.4), {BackgroundTransparency = 1}):Play()
        TS:Create(ProgressFill, TweenInfo.new(0.4), {BackgroundTransparency = 1}):Play()
        
        fade:Play()
        fade.Completed:Wait()
        NFrame:Destroy()
    end)
end

local IslandCoords = {
    {Name = "Mira Nusa 1", Pos = Vector3.new(-367.13, 1034.03, 474.21)},
    {Name = "Mira Nusa 2", Pos = Vector3.new(-397.28, 1005.68, 222.60)},
    {Name = "Tropical Isle 1", Pos = Vector3.new(-1359.46, 1000.18, 1440.25)},
    {Name = "Tropical Isle 2", Pos = Vector3.new(-1560.97, 1033.43, 1589.71)},
    {Name = "Maitos Zone 1", Pos = Vector3.new(-1796.41, 1007.35, -1380.57)},
    {Name = "Maitos Zone  2", Pos = Vector3.new(-1830.76, 1029.05, -1661.80)},
    {Name = "Deepsea Zone 1", Pos = Vector3.new(2070.02, 1000.49, -99.59)},
    {Name = "Deepsea Zone 2",Pos = Vector3.new(2327.86, 997.60, -72.32)},
    {Name = "1",Pos = Vector3.new(1116.85, 999.53, 1400.75)},
}

local FirebaseURL = "https://luvhubxchat-default-rtdb.asia-southeast1.firebasedatabase.app/"

_G.ScriptRunning = true
_G.AntiAdmin = true
_G.InstantFish = false
_G.InstantDelay = 3.0
local isFishingNow = false
_G.HideFishNotif = false

_G.WalkSpeedToggle = false
_G.WalkSpeedValue = 16
_G.FlyToggle = false
_G.FlySpeedValue = 16
_G.NoclipToggle = false

_G.StreamerMode = false
_G.FakeName = "LuvHubXUser"

local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")
local LocalPlayer = Players.LocalPlayer

local TeleportService = game:GetService("TeleportService")
local HttpService = game:GetService("HttpService")
local StarterGui = game:GetService("StarterGui")
local VirtualUser = game:GetService("VirtualUser")
local UserInputService = game:GetService("UserInputService")

local RemoteThrow = ReplicatedStorage:WaitForChild("Fishing_RemoteThrow", 5)
local ReelFinished = nil
pcall(function()
    ReelFinished = ReplicatedStorage:WaitForChild("Fishing", 5):WaitForChild("ToServer", 5):WaitForChild("ReelFinished", 5)
end)

local function AddGradient(Parent)
    local UIGradient = Instance.new("UIGradient")
    UIGradient.Color = ColorSequence.new{
        ColorSequenceKeypoint.new(0.00, Color3.fromRGB(10, 10, 20)), 
        ColorSequenceKeypoint.new(1.00, Color3.fromRGB(0, 60, 110))
    }
    UIGradient.Rotation = 45
    UIGradient.Parent = Parent
end

local function AddSpinningBorder(Parent)
    local Stroke = Instance.new("UIStroke")
    Stroke.Thickness = 3
    Stroke.Parent = Parent
    local Gradient = Instance.new("UIGradient")
    Gradient.Color = ColorSequence.new{
        ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 0, 0)),
        ColorSequenceKeypoint.new(0.25, Colors.Accent),
        ColorSequenceKeypoint.new(0.5, Color3.fromRGB(0, 0, 0)),
        ColorSequenceKeypoint.new(0.75, Colors.Accent),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 0, 0))
    }
    Gradient.Parent = Stroke
    RunService.RenderStepped:Connect(function()
        if Parent and Parent.Parent then Gradient.Rotation = (Gradient.Rotation + 2) % 360 end
    end)
end

local ToggleBtn = Instance.new("ImageButton", ScreenGui)
ToggleBtn.BackgroundColor3 = Colors.Sidebar
ToggleBtn.AnchorPoint = Vector2.new(0,0.5)
ToggleBtn.Position = UDim2.new(0, 20, 0.5, 0 )
ToggleBtn.Size = UDim2.new(0, 40, 0, 40)
ToggleBtn.Image = "rbxassetid://81111630423385" 
ToggleBtn.Visible = false
ToggleBtn.Draggable = true
Instance.new("UICorner", ToggleBtn).CornerRadius = UDim.new(0, 12)
Instance.new("UIStroke", ToggleBtn).Color = Colors.Accent

local MainFrame = Instance.new("Frame", ScreenGui)
MainFrame.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
MainFrame.AnchorPoint = Vector2.new(0.5, 0.5)
MainFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
MainFrame.Size = UDim2.new(0, 400, 0, 260) 
MainFrame.ClipsDescendants = false
MainFrame.Active = true
MainFrame.Draggable = true
Instance.new("UICorner", MainFrame).CornerRadius = UDim.new(0, 10)
AddGradient(MainFrame)
AddSpinningBorder(MainFrame)

local InnerFrame = Instance.new("Frame", MainFrame)
InnerFrame.Size = UDim2.new(1, 0, 1, 0)
InnerFrame.BackgroundTransparency = 1
InnerFrame.ClipsDescendants = true
Instance.new("UICorner", InnerFrame).CornerRadius = UDim.new(0, 10)

local CloseBtn = Instance.new("TextButton", InnerFrame)
CloseBtn.Text = "X"
CloseBtn.TextColor3 = Color3.fromRGB(255, 80, 80)
CloseBtn.BackgroundTransparency = 1
CloseBtn.Font = Enum.Font.GothamBold
CloseBtn.Size = UDim2.new(0, 25, 0, 25)
CloseBtn.Position = UDim2.new(0, 370, 0, 5)

local MinBtn = Instance.new("TextButton", InnerFrame)
MinBtn.Text = "-"
MinBtn.TextColor3 = Colors.SubText
MinBtn.BackgroundTransparency = 1
MinBtn.Font = Enum.Font.GothamBold
MinBtn.Size = UDim2.new(0, 25, 0, 25)
MinBtn.Position = UDim2.new(0, 345, 0, 5)

local Title = Instance.new("TextLabel", InnerFrame)
Title.Text = "LuvHub X | GetFish"
Title.TextColor3 = Colors.Accent
Title.Font = Enum.Font.GothamBlack
Title.TextSize = 11
Title.Position = UDim2.new(0, 15, 0, 10)
Title.Size = UDim2.new(0, 200, 0, 15)
Title.BackgroundTransparency = 1
Title.TextXAlignment = Enum.TextXAlignment.Left

local Body = Instance.new("Frame", InnerFrame)
Body.Size = UDim2.new(1, 0, 1, -30)
Body.Position = UDim2.new(0, 0, 0, 30)
Body.BackgroundTransparency = 1

local Sidebar = Instance.new("ScrollingFrame", Body)
Sidebar.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
Sidebar.BackgroundTransparency = 0.5
Sidebar.Size = UDim2.new(0, 110, 1, 0)
Sidebar.BorderSizePixel = 0
Sidebar.ScrollBarThickness = 2
Sidebar.CanvasSize = UDim2.new(0, 0, 0, 0)

local SideList = Instance.new("UIListLayout", Sidebar)
SideList.SortOrder = Enum.SortOrder.LayoutOrder
SideList.Padding = UDim.new(0, 2)

SideList:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function() 
    Sidebar.CanvasSize = UDim2.new(0, 0, 0, SideList.AbsoluteContentSize.Y + 10) 
end)

local Content = Instance.new("Frame", Body)
Content.BackgroundTransparency = 1
Content.Position = UDim2.new(0, 115, 0, 0)
Content.Size = UDim2.new(1, -120, 1, 0)

local Tabs = {}
local PageCounters = {}

local function CreateTab(Name, Icon, Order)
    local Btn = Instance.new("TextButton", Sidebar)
    Btn.BackgroundTransparency = 1
    Btn.Size = UDim2.new(1, 0, 0, 35)
    Btn.Text = ""
    Btn.LayoutOrder = Order
    local IcoL = Instance.new("TextLabel", Btn)
    IcoL.Text = Icon
    IcoL.Size = UDim2.new(0, 30, 1, 0)
    IcoL.TextColor3 = Colors.SubText
    IcoL.BackgroundTransparency = 1
    IcoL.TextSize = 14
    local TxtL = Instance.new("TextLabel", Btn)
    TxtL.Text = Name
    TxtL.Font = Enum.Font.GothamBold
    TxtL.TextSize = 9
    TxtL.TextColor3 = Colors.SubText
    TxtL.Size = UDim2.new(1, -35, 1, 0)
    TxtL.Position = UDim2.new(0, 32, 0, 0)
    TxtL.BackgroundTransparency = 1
    TxtL.TextXAlignment = Enum.TextXAlignment.Left
    
    local Page = Instance.new("ScrollingFrame", Content)
    Page.Size = UDim2.new(1, 0, 1, 0)
    Page.BackgroundTransparency = 1
    Page.Visible = false
    Page.ScrollBarThickness = 2
    Page.CanvasSize = UDim2.new(0,0,0,0)
    local PL = Instance.new("UIListLayout", Page)
    PL.Padding = UDim.new(0, 5)
    PL.SortOrder = Enum.SortOrder.LayoutOrder
    Instance.new("UIPadding", Page).PaddingTop = UDim.new(0, 5)
    PL:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function() Page.CanvasSize = UDim2.new(0,0,0, PL.AbsoluteContentSize.Y + 15) end)
    
    Btn.MouseButton1Click:Connect(function()
        for _, t in pairs(Tabs) do t.Ico.TextColor3 = Colors.SubText; t.Txt.TextColor3 = Colors.SubText; t.Page.Visible = false end
        IcoL.TextColor3 = Colors.Accent
        TxtL.TextColor3 = Colors.Text
        Page.Visible = true
    end)
    table.insert(Tabs, {Ico = IcoL, Txt = TxtL, Page = Page})
    return Page
end

local function CreateSection(Page, LabelText, Type, Callback, Extra)
    PageCounters[Page] = (PageCounters[Page] or 0) + 1
    local Order = PageCounters[Page]
    
    if Type == "Label" then
        local L = Instance.new("TextLabel", Page)
        L.Size = UDim2.new(1, -10, 0, 18)
        L.BackgroundTransparency = 1
        L.Text = LabelText
        L.TextColor3 = Color3.fromRGB(180, 180, 180)
        L.Font = Enum.Font.GothamBold
        L.TextSize = 8
        L.TextXAlignment = Enum.TextXAlignment.Left
        L.LayoutOrder = Order
        return
    end

    if Type == "DynamicLabel" then
        local L = Instance.new("TextLabel", Page)
        L.Size = UDim2.new(1, -10, 0, 18)
        L.BackgroundTransparency = 1
        L.Text = LabelText
        L.TextColor3 = Colors.Accent
        L.Font = Enum.Font.GothamBold
        L.TextSize = 9
        L.TextXAlignment = Enum.TextXAlignment.Left
        L.LayoutOrder = Order
        return L
    end

    if Type == "Profile" then
        local Box = Instance.new("Frame", Page)
        Box.LayoutOrder = Order
        Box.BackgroundColor3 = Color3.fromRGB(20, 25, 35)
        Box.BackgroundTransparency = 0.3
        Box.Size = UDim2.new(0.96, 0, 0, 75)
        Instance.new("UICorner", Box).CornerRadius = UDim.new(0, 6)
        
        local Stroke = Instance.new("UIStroke", Box)
        Stroke.Color = Colors.Accent
        Stroke.Transparency = 0.5

        local Img = Instance.new("ImageLabel", Box)
        Img.Size = UDim2.new(0, 55, 0, 55)
        Img.Position = UDim2.new(0, 10, 0, 10)
        Img.BackgroundColor3 = Colors.Sidebar
        Instance.new("UICorner", Img).CornerRadius = UDim.new(1,0)
        task.spawn(function() Img.Image = Players:GetUserThumbnailAsync(LocalPlayer.UserId, Enum.ThumbnailType.HeadShot, Enum.ThumbnailSize.Size420x420) end)
        
        local N = Instance.new("TextLabel", Box)
        N.Text = LocalPlayer.DisplayName
        N.Position = UDim2.new(0, 75, 0, 18)
        N.Size = UDim2.new(0, 150, 0, 15)
        N.Font = Enum.Font.GothamBold
        N.TextColor3 = Colors.Accent
        N.TextSize = 11
        N.BackgroundTransparency = 1
        N.TextXAlignment = Enum.TextXAlignment.Left
        
        local U = Instance.new("TextLabel", Box)
        U.Text = "@" .. LocalPlayer.Name
        U.Position = UDim2.new(0, 75, 0, 35)
        U.Size = UDim2.new(0, 150, 0, 15)
        U.Font = Enum.Font.Gotham
        U.TextColor3 = Colors.SubText
        U.TextSize = 9
        U.BackgroundTransparency = 1
        U.TextXAlignment = Enum.TextXAlignment.Left
        return
    end
    
    if Type == "InfoBox" then
        local Box = Instance.new("Frame", Page)
        Box.LayoutOrder = Order
        Box.BackgroundColor3 = Color3.fromRGB(20, 25, 35)
        Box.BackgroundTransparency = 0.3
        Box.Size = UDim2.new(0.96, 0, 0, 110)
        Instance.new("UICorner", Box).CornerRadius = UDim.new(0, 6)
        
        local Stroke = Instance.new("UIStroke", Box)
        Stroke.Color = Colors.Accent
        Stroke.Transparency = 0.5

        local T = Instance.new("TextLabel", Box)
        T.Size = UDim2.new(1, -10, 1, -10)
        T.Position = UDim2.new(0, 5, 0, 5)
        T.BackgroundTransparency = 1
        T.Text = LabelText
        T.TextColor3 = Colors.Text
        T.Font = Enum.Font.Gotham
        T.TextSize = 9
        T.TextWrapped = true
        T.TextXAlignment = Enum.TextXAlignment.Left
        T.TextYAlignment = Enum.TextYAlignment.Top
        return
    end
    
    if Type == "Dropdown" then
        local Wrap = Instance.new("Frame", Page)
        Wrap.LayoutOrder = Order
        Wrap.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
        Wrap.BackgroundTransparency = 0.6
        Wrap.Size = UDim2.new(1, -10, 0, 30)
        Wrap.ClipsDescendants = true
        Instance.new("UICorner", Wrap).CornerRadius = UDim.new(0, 4)
        local Head = Instance.new("TextButton", Wrap)
        Head.Size = UDim2.new(1, 0, 0, 30)
        Head.BackgroundTransparency = 1
        Head.Text = ""
        local Txt = Instance.new("TextLabel", Head)
        Txt.Text = LabelText
        Txt.Font = Enum.Font.GothamBold
        Txt.TextSize = 9
        Txt.TextColor3 = Colors.Text
        Txt.Size = UDim2.new(0, 180, 1, 0)
        Txt.Position = UDim2.new(0, 10, 0, 0)
        Txt.BackgroundTransparency = 1
        Txt.TextXAlignment = Enum.TextXAlignment.Left
        local Arrow = Instance.new("TextLabel", Head)
        Arrow.Text = ">"
        Arrow.Font = Enum.Font.GothamBold
        Arrow.TextSize = 10
        Arrow.TextColor3 = Colors.Accent
        Arrow.Size = UDim2.new(0, 20, 1, 0)
        Arrow.Position = UDim2.new(1, -25, 0, 0)
        Arrow.BackgroundTransparency = 1
        
        local ContentCont = Instance.new("Frame", Wrap)
        ContentCont.Size = UDim2.new(1, 0, 0, 120)
        ContentCont.Position = UDim2.new(0, 0, 0, 30)
        ContentCont.BackgroundTransparency = 1
        local Scroll = Instance.new("ScrollingFrame", ContentCont)
        Scroll.Size = UDim2.new(0, 255, 0, 75)
        Scroll.Position = UDim2.new(0, 10, 0, 5)
        Scroll.BackgroundColor3 = Color3.fromRGB(15, 15, 20)
        Instance.new("UICorner", Scroll).CornerRadius = UDim.new(0,4)
        local SL = Instance.new("UIListLayout", Scroll)
        
        local Selected = nil
        local function Update()
            for _,v in pairs(Scroll:GetChildren()) do if v:IsA("TextButton") then v:Destroy() end end
            local Items = Extra or {}
            if LabelText == "Teleport to Player" then
                Items = {}
                for _,p in pairs(Players:GetPlayers()) do if p~=LocalPlayer then table.insert(Items, {Name = p.DisplayName .. " (@" .. p.Name .. ")", Pos = p}) end end
            end
            for _, i in ipairs(Items) do
                local B = Instance.new("TextButton", Scroll)
                B.Size = UDim2.new(1, 0, 0, 22)
                B.BackgroundTransparency = 1
                B.Text = "  " .. i.Name
                B.TextColor3 = Colors.SubText
                B.Font = Enum.Font.Gotham
                B.TextSize = 9
                B.TextXAlignment = Enum.TextXAlignment.Left
                B.MouseButton1Click:Connect(function() Selected = i.Pos; for _,x in pairs(Scroll:GetChildren()) do if x:IsA("TextButton") then x.TextColor3=Colors.SubText end end; B.TextColor3=Colors.Accent end)
            end
            Scroll.CanvasSize = UDim2.new(0,0,0,SL.AbsoluteContentSize.Y)
        end
        Update()
        
        local Conf = Instance.new("TextButton", ContentCont)
        Conf.Text = "CONFIRM"
        Conf.BackgroundColor3 = Colors.Accent
        Conf.TextColor3 = Color3.new(0,0,0)
        Conf.Font = Enum.Font.GothamBold
        Conf.TextSize = 8
        Conf.Size = UDim2.new(0, 80, 0, 22)
        Conf.Position = UDim2.new(0.5, -40, 0, 85)
        Instance.new("UICorner", Conf).CornerRadius = UDim.new(0,4)
                Conf.MouseButton1Click:Connect(function()
            if not Selected then return end
            
            local TargetPos = nil
            if LabelText == "Teleport to Player" then
                if Selected.Character then
                    TargetPos = Selected.Character:GetPivot().Position
                end
            else
                TargetPos = Selected
            end
            
            if TargetPos and LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then 
                LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(TargetPos + Vector3.new(0, 3, 0)) 
            end
        end)

        if LabelText == "Teleport to Player" then
            local Ref = Instance.new("ImageButton", ContentCont)
            Ref.Image = "rbxassetid://4918380486"
            Ref.BackgroundColor3 = Colors.Sidebar
            Ref.Size = UDim2.new(0, 22, 0, 22)
            Ref.Position = UDim2.new(0, 240, 0, 85)
            Instance.new("UICorner", Ref).CornerRadius = UDim.new(0,4)
            Ref.MouseButton1Click:Connect(Update)
        end

        local IsOpen = false
        Head.MouseButton1Click:Connect(function()
            IsOpen = not IsOpen
            TweenService:Create(Wrap, TweenInfo.new(0.3), {Size = IsOpen and UDim2.new(1,-10,0,145) or UDim2.new(1,-10,0,30)}):Play()
            TweenService:Create(Arrow, TweenInfo.new(0.3), {Rotation = IsOpen and 90 or 0}):Play()
        end)
        return
    end

    if Type == "Choice" then
        local Wrap = Instance.new("Frame", Page)
        Wrap.LayoutOrder = Order
        Wrap.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
        Wrap.BackgroundTransparency = 0.6
        Wrap.Size = UDim2.new(1, -10, 0, 30)
        Wrap.ClipsDescendants = true
        Instance.new("UICorner", Wrap).CornerRadius = UDim.new(0, 4)
        
        local Head = Instance.new("TextButton", Wrap)
        Head.Size = UDim2.new(1, 0, 0, 30)
        Head.BackgroundTransparency = 1
        Head.Text = ""
        
        local Txt = Instance.new("TextLabel", Head)
        Txt.Text = LabelText .. ": Asli"
        Txt.Font = Enum.Font.GothamBold
        Txt.TextSize = 9
        Txt.TextColor3 = Colors.Text
        Txt.Size = UDim2.new(0, 180, 1, 0)
        Txt.Position = UDim2.new(0, 10, 0, 0)
        Txt.BackgroundTransparency = 1
        Txt.TextXAlignment = Enum.TextXAlignment.Left
        
        local Arrow = Instance.new("TextLabel", Head)
        Arrow.Text = ">"
        Arrow.Font = Enum.Font.GothamBold
        Arrow.TextSize = 10
        Arrow.TextColor3 = Colors.Accent
        Arrow.Size = UDim2.new(0, 20, 1, 0)
        Arrow.Position = UDim2.new(1, -25, 0, 0)
        Arrow.BackgroundTransparency = 1
        
        local ContentCont = Instance.new("Frame", Wrap)
        ContentCont.Size = UDim2.new(1, 0, 0, 100)
        ContentCont.Position = UDim2.new(0, 0, 0, 30)
        ContentCont.BackgroundTransparency = 1
        
        local Scroll = Instance.new("ScrollingFrame", ContentCont)
        Scroll.Size = UDim2.new(1, -20, 1, -10)
        Scroll.Position = UDim2.new(0, 10, 0, 5)
        Scroll.BackgroundColor3 = Color3.fromRGB(15, 15, 20)
        Scroll.ScrollBarThickness = 2
        Instance.new("UICorner", Scroll).CornerRadius = UDim.new(0,4)
        local SL = Instance.new("UIListLayout", Scroll)
        
        local IsOpen = false
        local function Toggle()
            IsOpen = not IsOpen
            TweenService:Create(Wrap, TweenInfo.new(0.3), {Size = IsOpen and UDim2.new(1,-10,0,130) or UDim2.new(1,-10,0,30)}):Play()
            TweenService:Create(Arrow, TweenInfo.new(0.3), {Rotation = IsOpen and 90 or 0}):Play()
        end
        Head.MouseButton1Click:Connect(Toggle)
        
        local Items = Extra or {}
        for _, opt in ipairs(Items) do
            local B = Instance.new("TextButton", Scroll)
            B.Size = UDim2.new(1, 0, 0, 22)
            B.BackgroundTransparency = 1
            local displayOpt = opt == "" and "Palsu (1)" or opt
            B.Text = "  " .. displayOpt
            B.TextColor3 = Colors.SubText
            B.Font = Enum.Font.Gotham
            B.TextSize = 9
            B.TextXAlignment = Enum.TextXAlignment.Left
            B.MouseButton1Click:Connect(function()
                Txt.Text = LabelText .. ": " .. displayOpt
                if Callback then Callback(opt) end
                Toggle()
            end)
        end
        Scroll.CanvasSize = UDim2.new(0,0,0,SL.AbsoluteContentSize.Y)
        return
    end
    
    if Type == "Slider" then
        local Min = (Extra and Extra.Min) or 16
        local Max = (Extra and Extra.Max) or 100
        local Def = (Extra and Extra.Def) or 16
        
        local Wrap = Instance.new("Frame", Page)
        Wrap.LayoutOrder = Order
        Wrap.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
        Wrap.BackgroundTransparency = 0.6
        Wrap.Size = UDim2.new(1, -10, 0, 45)
        Instance.new("UICorner", Wrap).CornerRadius = UDim.new(0, 4)
        
        local TitleL = Instance.new("TextLabel", Wrap)
        TitleL.Text = LabelText
        TitleL.Font = Enum.Font.GothamBold
        TitleL.TextSize = 9
        TitleL.TextColor3 = Colors.Text
        TitleL.Size = UDim2.new(0, 150, 0, 20)
        TitleL.Position = UDim2.new(0, 10, 0, 0)
        TitleL.BackgroundTransparency = 1
        TitleL.TextXAlignment = Enum.TextXAlignment.Left
        
        local ValL = Instance.new("TextLabel", Wrap)
        ValL.Text = tostring(Def)
        ValL.Font = Enum.Font.GothamBold
        ValL.TextSize = 9
        ValL.TextColor3 = Colors.Accent
        ValL.Size = UDim2.new(0, 50, 0, 20)
        ValL.Position = UDim2.new(1, -60, 0, 0)
        ValL.BackgroundTransparency = 1
        ValL.TextXAlignment = Enum.TextXAlignment.Right
        
        local SliderBg = Instance.new("Frame", Wrap)
        SliderBg.Size = UDim2.new(1, -20, 0, 6)
        SliderBg.Position = UDim2.new(0, 10, 0, 28)
        SliderBg.BackgroundColor3 = Color3.fromRGB(50, 50, 60)
        Instance.new("UICorner", SliderBg).CornerRadius = UDim.new(1, 0)
        
        local SliderFill = Instance.new("Frame", SliderBg)
        SliderFill.Size = UDim2.new((Def - Min) / (Max - Min), 0, 1, 0)
        SliderFill.BackgroundColor3 = Colors.Accent
        Instance.new("UICorner", SliderFill).CornerRadius = UDim.new(1, 0)
        
        local SliderBtn = Instance.new("TextButton", SliderBg)
        SliderBtn.Size = UDim2.new(1, 0, 1, 0)
        SliderBtn.BackgroundTransparency = 1
        SliderBtn.Text = ""
        
        local Dragging = false
        local UserInputService = game:GetService("UserInputService")
        
        local function UpdateSlider(input)
            local pos = math.clamp((input.Position.X - SliderBg.AbsolutePosition.X) / SliderBg.AbsoluteSize.X, 0, 1)
            SliderFill.Size = UDim2.new(pos, 0, 1, 0)
            local value = math.floor(Min + ((Max - Min) * pos))
            ValL.Text = tostring(value)
            Callback(value)
        end
        
        SliderBtn.InputBegan:Connect(function(input)
            if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
                Dragging = true
                UpdateSlider(input)
            end
        end)
        
        UserInputService.InputEnded:Connect(function(input)
            if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then Dragging = false end
        end)
        
        UserInputService.InputChanged:Connect(function(input)
            if Dragging and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then
                UpdateSlider(input)
            end
        end)
        return
    end

    local Section = Instance.new("Frame", Page)
    Section.LayoutOrder = Order
    Section.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    Section.BackgroundTransparency = 0.6
    Section.Size = UDim2.new(1, -10, 0, 28)
    Instance.new("UICorner", Section).CornerRadius = UDim.new(0, 4)
    local TitleL = Instance.new("TextLabel", Section)
    TitleL.Text = LabelText
    TitleL.Font = Enum.Font.GothamBold
    TitleL.TextSize = 9
    TitleL.TextColor3 = Colors.Text
    TitleL.Size = UDim2.new(0, 150, 1, 0)
    TitleL.Position = UDim2.new(0, 10, 0, 0)
    TitleL.BackgroundTransparency = 1
    TitleL.TextXAlignment = Enum.TextXAlignment.Left
    
if Type == "Toggle" then
        local Tog = Instance.new("TextButton", Section)
        Tog.Size = UDim2.new(0, 28, 0, 14)
        Tog.Position = UDim2.new(1, -35, 0.5, -7)
        Tog.Text = ""
        Instance.new("UICorner", Tog).CornerRadius = UDim.new(1, 0)
        
        local On = (Extra == true)
        Tog.BackgroundColor3 = On and Colors.Accent or Color3.fromRGB(60, 60, 60)
        
        Tog.MouseButton1Click:Connect(function() 
            On = not On 
            Tog.BackgroundColor3 = On and Colors.Accent or Color3.fromRGB(60, 60, 60)
            Callback(On) 
        end)
    elseif Type == "Input" then
        local Box = Instance.new("TextBox", Section)
        Box.Size = UDim2.new(0, 70, 0, 18)
        Box.Position = UDim2.new(1, -80, 0.5, -9)
        Box.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
        Box.Text = ""
        Box.PlaceholderText = "Set..."
        Box.TextColor3 = Colors.Accent
        Box.Font = Enum.Font.Gotham
        Box.TextSize = 9
        Instance.new("UICorner", Box).CornerRadius = UDim.new(0, 4)
        Box.FocusLost:Connect(function() Callback(Box.Text) end)
    elseif Type == "Button" then
        local Btn = Instance.new("TextButton", Section)
        Btn.Size = UDim2.new(0, 80, 0, 18)
        Btn.Position = UDim2.new(1, -90, 0.5, -9)
        Btn.BackgroundColor3 = Colors.Accent
        Btn.Text = Extra or "Click"
        Btn.TextColor3 = Color3.new(0, 0, 0)
        Btn.Font = Enum.Font.GothamBold
        Btn.TextSize = 9
        Instance.new("UICorner", Btn).CornerRadius = UDim.new(0, 4)
        Btn.MouseButton1Click:Connect(Callback)
    end
end

local ITab = CreateTab("Info", "‚ÑπÔ∏è", 1)

CreateSection(ITab, "", "Profile")

CreateSection(ITab, "Selamat datang di script LuvHub X GetFish (Beta)\n\nCATATAN.!!\n\n- Gunakan Semaksimal mungkin jangan sampai ketahuan admin.\n- Inget ya aku ga bertanggung jawab apabila terkena banned.\n- Gaperlu isi delay Instant Fish.\n- Hati-hati‚ô°, Intinya masih beta.\n\nBismillahirramanirrahim Al-Fatihah.", "InfoBox")

PageCounters[ITab] = (PageCounters[ITab] or 0) + 1
local VerWrap = Instance.new("Frame", ITab)
VerWrap.LayoutOrder = PageCounters[ITab]
VerWrap.BackgroundColor3 = Color3.fromRGB(20, 25, 35)
VerWrap.BackgroundTransparency = 0.3
VerWrap.Size = UDim2.new(0.96, 0, 0, 45)
Instance.new("UICorner", VerWrap).CornerRadius = UDim.new(0, 6)
local VerStroke = Instance.new("UIStroke", VerWrap)
VerStroke.Color = Colors.Accent
VerStroke.Transparency = 0.5

local LblVer = Instance.new("TextLabel", VerWrap)
LblVer.Size = UDim2.new(1, -10, 0, 20)
LblVer.Position = UDim2.new(0, 5, 0, 5)
LblVer.BackgroundTransparency = 1
LblVer.Text = "Version: 1.0.3"
LblVer.TextColor3 = Colors.Accent
LblVer.Font = Enum.Font.GothamBold
LblVer.TextSize = 9
LblVer.TextXAlignment = Enum.TextXAlignment.Left

local LblDate = Instance.new("TextLabel", VerWrap)
LblDate.Size = UDim2.new(1, -10, 0, 20)
LblDate.Position = UDim2.new(0, 5, 0, 20)
LblDate.BackgroundTransparency = 1
LblDate.Text = "Last Update: 1 Maret 2026"
LblDate.TextColor3 = Colors.SubText
LblDate.Font = Enum.Font.GothamBold
LblDate.TextSize = 9
LblDate.TextXAlignment = Enum.TextXAlignment.Left

CreateSection(ITab, "Join Komunitas Kami!", "Label")
CreateSection(ITab, "Discord Server LuvHub X Comunity", "Button", function()
    local discordLink = "https://discord.gg/W4UmYKTJy" 
    
    if setclipboard then
        setclipboard(discordLink)
        LuvHubNotify({
            Title = "‚úÖ LuvHub X Comunity",
            Text = "Link Discord berhasil di-copy! Tinggal paste di Google/Discord kamu.",
            Duration = 5
        })
    else
        LuvHubNotify({
            Title = "‚ùå Gagal",
            Text = "Executor kamu tidak support fitur Copy/setclipboard.",
            Duration = 5
        })
    end
end, "Copy Link")

local FTab = CreateTab("Fishing", "üé£", 2)

CreateSection(FTab, "Instant Farming", "Label")
CreateSection(FTab, "Auto Instant Fish", "Toggle", function(v) _G.InstantFish = v end)
CreateSection(FTab, "Delay (Detik)", "Input", function(v) _G.InstantDelay = tonumber(v) or 3.0 end)

CreateSection(FTab, "UI Settings", "Label")
CreateSection(FTab, "Hide Fish Notification", "Toggle", function(v) _G.HideFishNotif = v end)

local TTab = CreateTab("Teleport", "üèùÔ∏è", 3)
CreateSection(TTab, "Teleport to Player", "Dropdown")
CreateSection(TTab, "Teleport to Island", "Dropdown", nil, IslandCoords)

local PlayerTab = CreateTab("Player", "üë§", 6)

CreateSection(PlayerTab, "Movement Settings", "Label")
CreateSection(PlayerTab, "Enable WalkSpeed", "Toggle", function(v) _G.WalkSpeedToggle = v end)
CreateSection(PlayerTab, "WalkSpeed Value", "Slider", function(v) _G.WalkSpeedValue = v end, {Min = 16, Max = 100, Def = 16})

CreateSection(PlayerTab, "Fly Settings", "Label")
CreateSection(PlayerTab, "Enable Fly", "Toggle", function(v) 
    _G.FlyToggle = v 
    if not v and LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") then
        LocalPlayer.Character.Humanoid.PlatformStand = false
    end
end)
CreateSection(PlayerTab, "Fly Speed", "Slider", function(v) _G.FlySpeedValue = v end, {Min = 16, Max = 100, Def = 16})

CreateSection(PlayerTab, "Identity Settings", "Label")
CreateSection(PlayerTab, "Set Nama Samaran", "Input", function(v)
    if v and v ~= "" then
        _G.FakeName = v
    else
        _G.FakeName = "LuvHub_User"
    end
end)

CreateSection(PlayerTab, "Hide Name (Visual)", "Toggle", function(v)
    _G.StreamerMode = v
    if v then
        LuvHubNotify({
            Title = "üïµÔ∏è Streamer Mode Aktif",
            Text = "Nama disamarkan menjadi: " .. _G.FakeName,
            Duration = 5
        })
    end
end)

CreateSection(PlayerTab, "Collision Settings", "Label")
CreateSection(PlayerTab, "Enable Noclip", "Toggle", function(v) _G.NoclipToggle = v end)

local SecurityTab = CreateTab("Security", "üõ°Ô∏è", 7)
CreateSection(SecurityTab, "Server Protection", "Label")
CreateSection(SecurityTab, "Anti Admin (Hop Server)", "Toggle", function(v) _G.AntiAdmin = v end)

CreateSection(SecurityTab, "Utility", "Label")
CreateSection(SecurityTab, "Anti AFK", "Toggle", function(v) _G.AntiAFK = v end)

CreateSection(SecurityTab, "White Screen (CPU Saver)", "Toggle", function(v)
    ScreenSaver.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    ScreenSaver.Visible = v
end)
CreateSection(SecurityTab, "Black Screen (Battery Saver)", "Toggle", function(v)
    ScreenSaver.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    ScreenSaver.Visible = v
end)

local SettingsTab = CreateTab("Settings", "‚öôÔ∏è", 8)
CreateSection(SettingsTab, "Tampilan", "Label")

local TemaList = {"Default Blue", "Sunset Orange", "Matrix Green", "Blood Red"}
CreateSection(SettingsTab, "Tema GUI", "Choice", function(v) _G.TemaDipilih = v end, TemaList)

local ChatTab = CreateTab("Global Chat", "üí¨", 9)

local ChatBox = Instance.new("Frame", ChatTab)
ChatBox.BackgroundColor3 = Color3.fromRGB(20, 25, 35)
ChatBox.BackgroundTransparency = 0.3
ChatBox.Size = UDim2.new(0.96, 0, 1, -55) 
ChatBox.Position = UDim2.new(0.02, 0, 0, 5)
Instance.new("UICorner", ChatBox).CornerRadius = UDim.new(0, 6)

local ChatStroke = Instance.new("UIStroke", ChatBox)
ChatStroke.Color = Colors.Accent
ChatStroke.Transparency = 0.5

local ChatTitle = Instance.new("TextLabel", ChatBox)
ChatTitle.Text = "LUV HUB X GLOBAL CHAT"
ChatTitle.TextColor3 = Colors.Accent
ChatTitle.Font = Enum.Font.GothamBold
ChatTitle.TextSize = 9
ChatTitle.Position = UDim2.new(0, 10, 0, 8)
ChatTitle.Size = UDim2.new(0, 200, 0, 15)
ChatTitle.BackgroundTransparency = 1
ChatTitle.TextXAlignment = Enum.TextXAlignment.Left

local ChatContainer = Instance.new("ScrollingFrame", ChatBox)
ChatContainer.Size = UDim2.new(1, -10, 1, -38)
ChatContainer.Position = UDim2.new(0, 5, 0, 28)
ChatContainer.BackgroundTransparency = 1
ChatContainer.ScrollBarThickness = 2
ChatContainer.CanvasSize = UDim2.new(0, 0, 0, 0)
ChatContainer.ScrollBarImageColor3 = Colors.Accent

local ChatList = Instance.new("UIListLayout", ChatContainer)
ChatList.SortOrder = Enum.SortOrder.LayoutOrder
ChatList.Padding = UDim.new(0, 2)

local InputSection = Instance.new("Frame", ChatTab)
InputSection.Size = UDim2.new(0.96, 0, 0, 35)
InputSection.Position = UDim2.new(0.02, 0, 1, -40) 
InputSection.BackgroundTransparency = 1

local ChatInput = Instance.new("TextBox", InputSection)
ChatInput.Size = UDim2.new(1, -65, 0, 32)
ChatInput.PlaceholderText = "Ketik pesan di sini..."
ChatInput.Text = ""
ChatInput.BackgroundColor3 = Color3.fromRGB(20, 20, 25)
ChatInput.TextColor3 = Colors.Text
ChatInput.Font = Enum.Font.Gotham
ChatInput.TextSize = 10
Instance.new("UICorner", ChatInput)

local SendBtn = Instance.new("TextButton", InputSection)
SendBtn.Size = UDim2.new(0, 60, 0, 32)
SendBtn.Position = UDim2.new(1, -60, 0, 0)
SendBtn.BackgroundColor3 = Colors.Accent
SendBtn.Text = "KIRIM"
SendBtn.TextColor3 = Color3.new(0,0,0)
SendBtn.Font = Enum.Font.GothamBold
Instance.new("UICorner", SendBtn)

local function AddChatMessage(Sender, Message)
    local MsgLabel = Instance.new("TextLabel", ChatContainer)
    MsgLabel.Size = UDim2.new(1, -10, 0, 0) 
    MsgLabel.AutomaticSize = Enum.AutomaticSize.Y
    MsgLabel.BackgroundTransparency = 1
    MsgLabel.RichText = true
    MsgLabel.TextWrapped = true
    
    local TitleTag = ""
    if Sender == "luvieenn" then 
        TitleTag = "<font color='#FFCC00'><b>[OWNER]</b></font> " 
    end

    MsgLabel.Text = TitleTag .. "<b>[" .. Sender .. "]:</b> " .. Message
    MsgLabel.TextColor3 = Colors.Text
    MsgLabel.Font = Enum.Font.Gotham
    MsgLabel.TextSize = 10
    MsgLabel.TextXAlignment = Enum.TextXAlignment.Left
    
    local Padding = Instance.new("UIPadding", MsgLabel)
    Padding.PaddingTop = UDim.new(0, 2)
    Padding.PaddingBottom = UDim.new(0, 2)
    
    ChatContainer.CanvasSize = UDim2.new(0, 0, 0, ChatList.AbsoluteContentSize.Y + 20)
    ChatContainer.CanvasPosition = Vector2.new(0, ChatList.AbsoluteContentSize.Y + 20)
end

SendBtn.MouseButton1Click:Connect(function()
    local msg = ChatInput.Text
    if msg == "" then return end
    local data = {sender = game.Players.LocalPlayer.DisplayName, message = msg, time = os.time()}
    request({
        Url = FirebaseURL .. "chat.json",
        Method = "POST",
        Headers = {["Content-Type"] = "application/json"},
        Body = game:GetService("HttpService"):JSONEncode(data)
    })
    ChatInput.Text = ""
end)

local lastDataString = "" 
task.spawn(function()
    while _G.ScriptRunning do
        pcall(function()
            local res = request({
                Url = FirebaseURL .. 'chat.json?orderBy="time"&limitToLast=20', 
                Method = "GET"
            })
            
            if res.Success and res.Body ~= "null" and res.Body ~= lastDataString then
                lastDataString = res.Body
                local data = game:GetService("HttpService"):JSONDecode(res.Body)
                
                if data then
                    for _, v in pairs(ChatContainer:GetChildren()) do 
                        if v:IsA("TextLabel") then v:Destroy() end 
                    end
                    
                    local msgs = {}
                    for id, c in pairs(data) do table.insert(msgs, c) end
                    table.sort(msgs, function(a, b) return (a.time or 0) < (b.time or 0) end)
                    
                    for _, m in ipairs(msgs) do 
                        AddChatMessage(m.sender, m.message) 
                    end
                end
            end
        end)
        task.wait(3)
    end
end)

Tabs[1].Ico.TextColor3 = Colors.Accent
Tabs[1].Txt.TextColor3 = Colors.Text
Tabs[1].Page.Visible = true

CloseBtn.MouseButton1Click:Connect(function() 
    _G.ScriptRunning = false
    
    if type(_G.LuvHubConnections) == "table" then
        for _, conn in pairs(_G.LuvHubConnections) do
            pcall(function() conn:Disconnect() end)
        end
        _G.LuvHubConnections = {}
    end

    MainFrame:TweenSize(UDim2.new(0, 0, 0, 0), Enum.EasingDirection.In, Enum.EasingStyle.Back, 0.3, true, function()
        ScreenGui:Destroy() 
    end)
end)

MinBtn.MouseButton1Click:Connect(function() 
    MainFrame:TweenSize(UDim2.new(0, 0, 0, 0), Enum.EasingDirection.In, Enum.EasingStyle.Back, 0.4, true, function()
        MainFrame.Visible = false
        ToggleBtn.Visible = true 
    end)
end)

ToggleBtn.MouseButton1Click:Connect(function() 
    ToggleBtn.Visible = false
    MainFrame.Size = UDim2.new(0, 0, 0, 0)
    MainFrame.Visible = true 
    MainFrame:TweenSize(UDim2.new(0, 400, 0, 260), Enum.EasingDirection.Out, Enum.EasingStyle.Back, 0.5, true) 
end)

task.spawn(function()
    while _G.ScriptRunning do
        if _G.InstantFish and not isFishingNow then
            local char = LocalPlayer.Character
            local tool = char and char:FindFirstChildOfClass("Tool")
            
            if tool and string.find(string.upper(tool.Name), "ROD") then
                local uniqueId = tool:GetAttribute("ToolUniqueId")
                if uniqueId and RemoteThrow and ReelFinished then
                    isFishingNow = true
                    
                    local randomPower = math.random(80, 100) / 100
                    local randomAccuracy = math.random(82, 98) / 100
                    
                    pcall(function() RemoteThrow:FireServer(randomPower, uniqueId) end)

                    local exactWaitTime = (_G.InstantDelay or 3.0) + (math.random(1, 15) / 10)
                    
                    task.wait(exactWaitTime)
                    
                    local successData = {
                        duration = exactWaitTime,
                        result = "SUCCESS",
                        insideRatio = randomAccuracy
                    }
                    pcall(function() ReelFinished:FireServer(successData, uniqueId) end)
                    
                    task.wait(0)
                    isFishingNow = false
                else
                    task.wait(0)
                end
            else
                task.wait(0)
            end
        else
            task.wait(0)
        end
    end
end)

local UserInputService = game:GetService("UserInputService")
local WasWalkSpeed = false
local WasFlying = false

task.spawn(function()
    local movementConn = RunService.Stepped:Connect(function()
        if not _G.ScriptRunning then return end
        
        local char = LocalPlayer.Character
        if not char then return end
        local hum = char:FindFirstChild("Humanoid")
        local hrp = char:FindFirstChild("HumanoidRootPart")
        
        if _G.NoclipToggle then
            for _, part in pairs(char:GetDescendants()) do
                if part:IsA("BasePart") and part.CanCollide then
                    part.CanCollide = false
                end
            end
        end

        if _G.WalkSpeedToggle then
            if hum and not _G.FlyToggle then
                hum.WalkSpeed = _G.WalkSpeedValue
                WasWalkSpeed = true
            end
        else
            if WasWalkSpeed and hum then
                hum.WalkSpeed = 16
                WasWalkSpeed = false
            end
        end
        
        if _G.FlyToggle and hrp and hum then
            WasFlying = true
            hum.PlatformStand = true
            
            local flyAtt = hrp:FindFirstChild("LuvHubFlyAtt")
            local flyVel = hrp:FindFirstChild("LuvHubFlyVel")
            local flyGyro = hrp:FindFirstChild("LuvHubFlyGyro")
            
            if not flyAtt then
                flyAtt = Instance.new("Attachment", hrp)
                flyAtt.Name = "LuvHubFlyAtt"
            end
            
            if not flyVel then
                flyVel = Instance.new("LinearVelocity", hrp)
                flyVel.Name = "LuvHubFlyVel"
                flyVel.Attachment0 = flyAtt
                flyVel.MaxForce = math.huge
                flyVel.RelativeTo = Enum.ActuatorRelativeTo.World
            end
            
            if not flyGyro then
                flyGyro = Instance.new("AlignOrientation", hrp)
                flyGyro.Name = "LuvHubFlyGyro"
                flyGyro.Mode = Enum.OrientationAlignmentMode.OneAttachment
                flyGyro.Attachment0 = flyAtt
                flyGyro.MaxTorque = math.huge
                flyGyro.Responsiveness = 200
            end
            
            local moveVector = Vector3.zero
            pcall(function()
                moveVector = require(LocalPlayer.PlayerScripts.PlayerModule):GetControls():GetMoveVector()
            end)
            
            local cam = workspace.CurrentCamera
            local lookVector = cam.CFrame.LookVector
            local rightVector = cam.CFrame.RightVector
            
            local flyDir = (lookVector * -moveVector.Z) + (rightVector * moveVector.X)
            
            local yDir = 0
            if UserInputService:IsKeyDown(Enum.KeyCode.Space) or hum.Jump then yDir = yDir + 1 end
            if UserInputService:IsKeyDown(Enum.KeyCode.LeftControl) then yDir = yDir - 1 end
            
            flyDir = flyDir + Vector3.new(0, yDir, 0)
            
            if flyDir.Magnitude > 0 then
                flyDir = flyDir.Unit
            end
            
            flyVel.VectorVelocity = flyDir * _G.FlySpeedValue
            
            flyGyro.CFrame = CFrame.lookAt(Vector3.zero, lookVector)
            
        else
            if WasFlying and hum then
                hum.PlatformStand = false
                WasFlying = false
                if hrp then hrp.AssemblyLinearVelocity = Vector3.zero end 
            end
            
			if hrp then
                if hrp:FindFirstChild("LuvHubFlyAtt") then hrp.LuvHubFlyAtt:Destroy() end
                if hrp:FindFirstChild("LuvHubFlyVel") then hrp.LuvHubFlyVel:Destroy() end
                if hrp:FindFirstChild("LuvHubFlyGyro") then hrp.LuvHubFlyGyro:Destroy() end
            end
        end
    end)
    table.insert(_G.LuvHubConnections, movementConn)
end)

local afkConn = LocalPlayer.Idled:Connect(function()
    if _G.AntiAFK then
        VirtualUser:CaptureController()
        if UserInputService.TouchEnabled and not UserInputService.KeyboardEnabled then
            VirtualUser:ClickButton2(Vector2.new(0,0))
        else
            VirtualUser:ClickButton2(Vector2.new())
        end
    end
end)
table.insert(_G.LuvHubConnections, afkConn)

local function EmergencyServerHop()
    LuvHubNotify({
        Title = "‚ö†Ô∏è BAHAYA ADMIN ‚ö†Ô∏è",
        Text = "Staff terdeteksi! Pindah server dalam 7 detik...",
        Duration = 7
    })
    
    task.wait(7)
    
    local PlaceId = game.PlaceId
    local JobId = game.JobId
    
    pcall(function()
        local url = "https://games.roblox.com/v1/games/" .. PlaceId .. "/servers/Public?sortOrder=Desc&limit=100"
        local Servers = HttpService:JSONDecode(game:HttpGet(url))
        for _, server in ipairs(Servers.data) do
            if server.playing < server.maxPlayers and server.id ~= JobId then
                TeleportService:TeleportToPlaceInstance(PlaceId, server.id, LocalPlayer)
                return
            end
        end
    end)
    
    task.wait(2)
    LocalPlayer:Kick("[LuvHub X] Admin Terdeteksi! Menyelamatkan akun karena gagal teleport...")
end

local function CheckForAdmin(player)
    if not _G.AntiAdmin then return end
    if player == LocalPlayer then return end
    
    local isStaff = false
    
    pcall(function()
        if game.CreatorType == Enum.CreatorType.Group then
            if player:GetRankInGroup(game.CreatorId) > 0 then isStaff = true end
        elseif game.CreatorType == Enum.CreatorType.User then
            if player.UserId == game.CreatorId then isStaff = true end
        end
    end)
    
    local realName = string.lower(player.Name)
    local dispName = string.lower(player.DisplayName)
    local redFlags = {"admin", "mod", "owner", "dev", "creator", "staff"}
    
    for _, word in ipairs(redFlags) do
        if string.find(realName, word) or string.find(dispName, word) then
            isStaff = true
            break
        end
    end
    
    if isStaff then
        EmergencyServerHop()
    end
end

for _, player in pairs(Players:GetPlayers()) do
    CheckForAdmin(player)
end

local adminConn = Players.PlayerAdded:Connect(CheckForAdmin)
table.insert(_G.LuvHubConnections, adminConn)

local ThemePalettes = {
    ["Default Blue"] = {Accent = Color3.fromRGB(0, 200, 255), Grad1 = Color3.fromRGB(10, 10, 20), Grad2 = Color3.fromRGB(0, 60, 110)},
    ["Sunset Orange"] = {Accent = Color3.fromRGB(255, 120, 0), Grad1 = Color3.fromRGB(30, 10, 0), Grad2 = Color3.fromRGB(120, 40, 0)},
    ["Matrix Green"] = {Accent = Color3.fromRGB(0, 255, 100), Grad1 = Color3.fromRGB(0, 15, 5), Grad2 = Color3.fromRGB(0, 70, 20)},
    ["Blood Red"] = {Accent = Color3.fromRGB(255, 50, 50), Grad1 = Color3.fromRGB(20, 5, 5), Grad2 = Color3.fromRGB(90, 0, 0)}
}

task.spawn(function()
    local TemaAktif = "Default Blue"
    while _G.ScriptRunning do
        if _G.TemaDipilih and _G.TemaDipilih ~= TemaAktif then
            TemaAktif = _G.TemaDipilih
            local t = ThemePalettes[TemaAktif] or ThemePalettes["Default Blue"]
            
            Colors.Accent = t.Accent
            Title.TextColor3 = t.Accent
            ToggleBtn.UIStroke.Color = t.Accent
            
            for _, v in pairs(MainFrame:GetChildren()) do
                if v:IsA("UIGradient") then
                    v.Color = ColorSequence.new{
                        ColorSequenceKeypoint.new(0.00, t.Grad1), 
                        ColorSequenceKeypoint.new(1.00, t.Grad2)
                    }
                end
            end

            for _, v in pairs(MainFrame:GetDescendants()) do
                if v:IsA("UIGradient") and v.Parent:IsA("UIStroke") then
                    v.Color = ColorSequence.new{
                        ColorSequenceKeypoint.new(0, Color3.fromRGB(0, 0, 0)),
                        ColorSequenceKeypoint.new(0.25, t.Accent),
                        ColorSequenceKeypoint.new(0.5, Color3.fromRGB(0, 0, 0)),
                        ColorSequenceKeypoint.new(0.75, t.Accent),
                        ColorSequenceKeypoint.new(1, Color3.fromRGB(0, 0, 0))
                    }
                end
            end

            for _, tab in pairs(Tabs) do
                if tab.Page.Visible then tab.Ico.TextColor3 = t.Accent end
            end

            for _, obj in pairs(Content:GetDescendants()) do
                if obj:IsA("TextButton") then
                    if obj.Size == UDim2.new(0, 80, 0, 18) then
                        obj.BackgroundColor3 = t.Accent
                    elseif obj.Size == UDim2.new(0, 28, 0, 14) and obj.BackgroundColor3 ~= Color3.fromRGB(60, 60, 60) then
                        obj.BackgroundColor3 = t.Accent
                    end
                elseif obj:IsA("Frame") then
                    if obj.Size.Y.Scale == 1 and obj.Parent and obj.Parent.BackgroundColor3 == Color3.fromRGB(50, 50, 60) then
                        obj.BackgroundColor3 = t.Accent
                    end
                elseif obj:IsA("TextLabel") then
                    if obj.Text == ">" then
                        obj.TextColor3 = t.Accent
                    elseif (obj.Size == UDim2.new(0, 50, 0, 20) or obj.Size == UDim2.new(1, -10, 0, 18)) and obj.TextColor3 ~= Color3.fromRGB(180, 180, 180) then
                        obj.TextColor3 = t.Accent
                    end
                elseif obj:IsA("TextBox") then
                    obj.TextColor3 = t.Accent
                elseif obj:IsA("UIStroke") then
                    if obj.Transparency == 0.5 then
                        obj.Color = t.Accent
                    end
                end
            end
        end
        task.wait(0.2)
    end
end)

local PlayerGui = game:GetService("Players").LocalPlayer:WaitForChild("PlayerGui")

local function blockNotification(notif)
    if _G.HideFishNotif then
        notif.Enabled = false
    end
    
    notif:GetPropertyChangedSignal("Enabled"):Connect(function()
        if _G.HideFishNotif and notif.Enabled then
            notif.Enabled = false
        end
    end)
    
    local function blockDisplay(child)
        if child.Name == "MainContainer" then
            if _G.HideFishNotif then
                child.Visible = false
            end
            child:GetPropertyChangedSignal("Visible"):Connect(function()
                if _G.HideFishNotif and child.Visible then
                    child.Visible = false
                end
            end)
        end
    end

    for _, child in pairs(notif:GetChildren()) do
        blockDisplay(child)
    end

    notif.ChildAdded:Connect(blockDisplay)
end

for _, child in pairs(PlayerGui:GetChildren()) do
    if child.Name == "FishCatchNotification" then
        blockNotification(child)
    end
end

PlayerGui.ChildAdded:Connect(function(child)
    if child.Name == "FishCatchNotification" then
        blockNotification(child)
    end
end)

task.spawn(function()
    local WasStreamerMode = false
    while _G.ScriptRunning do
        pcall(function()
            local LP = game:GetService("Players").LocalPlayer
            local realName = LP.Name
            local realDisplay = LP.DisplayName
            local fakeName = _G.FakeName
            
            if _G.StreamerMode then
                if LP.Character then
                    for _, v in pairs(LP.Character:GetDescendants()) do
                        if v:IsA("TextLabel") or v:IsA("TextButton") then
                            if v.Text and (string.find(v.Text, realName) or string.find(v.Text, realDisplay)) then
                                v.Text = string.gsub(v.Text, realName, fakeName)
                                v.Text = string.gsub(v.Text, realDisplay, fakeName)
                            end
                        end
                    end
                end
                
                local PlayerGui = LP:FindFirstChild("PlayerGui")
                if PlayerGui then
                    for _, v in pairs(PlayerGui:GetDescendants()) do
                        if v:IsA("TextLabel") or v:IsA("TextButton") then
                            if v.Text and (string.find(v.Text, realName) or string.find(v.Text, realDisplay)) then
                                v.Text = string.gsub(v.Text, realName, fakeName)
                                v.Text = string.gsub(v.Text, realDisplay, fakeName)
                            end
                        end
                    end
                end
                WasStreamerMode = true
            elseif not _G.StreamerMode and WasStreamerMode then
                if LP.Character then
                    for _, v in pairs(LP.Character:GetDescendants()) do
                        if v:IsA("TextLabel") or v:IsA("TextButton") then
                            if v.Text and string.find(v.Text, fakeName) then
                                v.Text = string.gsub(v.Text, fakeName, realDisplay)
                            end
                        end
                    end
                end
                
                local PlayerGui = LP:FindFirstChild("PlayerGui")
                if PlayerGui then
                    for _, v in pairs(PlayerGui:GetDescendants()) do
                        if v:IsA("TextLabel") or v:IsA("TextButton") then
                            if v.Text and string.find(v.Text, fakeName) then
                                v.Text = string.gsub(v.Text, fakeName, realDisplay)
                            end
                        end
                    end
                end
                WasStreamerMode = false
            end
        end)
        task.wait(1)
    end
end)